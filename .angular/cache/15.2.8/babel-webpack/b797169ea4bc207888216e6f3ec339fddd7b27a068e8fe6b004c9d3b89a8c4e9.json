{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { Product } from 'src/app/data/product';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/Services/product-service.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../../Services/userservices.service\";\nimport * as i5 from \"@angular/common\";\nfunction CreateProductComponent_span_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 35);\n    i0.ɵɵtext(1, \" The Name field is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CreateProductComponent_span_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 35);\n    i0.ɵɵtext(1, \" The field Price must be a number between 1 and 2147483647. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CreateProductComponent_span_61_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 35);\n    i0.ɵɵtext(1, \" The Category Type field is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CreateProductComponent_span_77_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 35);\n    i0.ɵɵtext(1, \" The Application Type field is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class CreateProductComponent {\n  constructor(formBuilder, ProductServiceService, router, route, UserserviceService) {\n    this.formBuilder = formBuilder;\n    this.ProductServiceService = ProductServiceService;\n    this.router = router;\n    this.route = route;\n    this.UserserviceService = UserserviceService;\n    this.id = 0;\n    this.imagePathList = [];\n    this.productname = \"\";\n    if (!UserserviceService.getuserloginstatus() && !UserserviceService.isadmin) {\n      router.navigate(['/Login']);\n    }\n    this.route.paramMap.subscribe(params => {\n      this.id = Number(params.get('id'));\n    });\n    if (this.id !== 0) {\n      this.product = this.ProductServiceService.getproductId(this.id);\n      if (this.product != null) {\n        this.productname = this.product.Name;\n      }\n    }\n  }\n  ngOnInit() {\n    this.productForm = this.formBuilder.group({\n      name: [this.product?.Name, Validators.required],\n      price: [this.product?.Price, [Validators.required, Validators.min(1), Validators.max(2147483647)]],\n      shortDesc: [this.product?.Shortdescription],\n      description: [this.product?.Description],\n      categoryId: [this.product?.CategoryId, Validators.required],\n      applicationTypeId: [this.ProductServiceService.getapplicatiobyId.name, Validators.required]\n    });\n  }\n  onFileChange(event) {\n    if (event.target.files && event.target.files.length) {\n      const files = event.target.files;\n      for (let i = 0; i < files.length; i++) {\n        const file = files[i];\n        const reader = new FileReader();\n        reader.onload = e => {\n          const imageBase64 = reader.result;\n          // Save the image to the assets/uploads folder\n          const imagePath = `assets/uploads/${file.name}`;\n          this.saveImageToAssets(imageBase64, imagePath);\n        };\n        reader.readAsDataURL(file);\n      }\n    }\n  }\n  saveImageToAssets(imageBase64, imagePath) {\n    const link = document.createElement('a');\n    link.setAttribute('href', imageBase64);\n    link.setAttribute('download', imagePath);\n    link.style.display = 'none';\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    // Add the image path to the list\n    this.imagePathList.push(imagePath);\n  }\n  onSubmit() {\n    console.log(this.imagePathList);\n    if (this.productForm.valid) {\n      console.log(this.productForm.controls['name'].value);\n      if (this.id !== 0) {\n        this.ProductServiceService.Addproduct(new Product(this.id, this.productForm.controls['name'].value, this.productForm.controls['shortDesc'].value, this.productForm.controls['price'].value, '', this.productForm.controls['categoryId'].value, this.productForm.controls['applicationTypeId'].value, this.productForm.controls['description'].value));\n        this.router.navigate(['/displayapplication']);\n      } else {\n        this.ProductServiceService.Addproduct(new Product(0, this.productForm.controls['name'].value, this.productForm.controls['shortDesc'].value, this.productForm.controls['price'].value, '', this.productForm.controls['categoryId'].value, this.productForm.controls['applicationTypeId'].value, this.productForm.controls['description'].value));\n        this.router.navigate(['/displayapplication']);\n      }\n    }\n  }\n}\nCreateProductComponent.ɵfac = function CreateProductComponent_Factory(t) {\n  return new (t || CreateProductComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ProductServiceService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i4.UserserviceService));\n};\nCreateProductComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CreateProductComponent,\n  selectors: [[\"app-create-product\"]],\n  decls: 88,\n  vars: 7,\n  consts: [[1, \"container\", \"m-4\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"border\", \"p-3\"], [1, \"form-group\", \"row\"], [1, \"text-center\", \"text-info\", \"pl-3\"], [1, \"row\"], [1, \"col-8\"], [1, \"col-4\"], [1, \"text-danger\"], [\"for\", \"Product_Name\"], [\"type\", \"text\", \"id\", \"Product_Name\", \"formControlName\", \"name\", 1, \"form-control\"], [\"class\", \"text-danger field-validation-valid\", 4, \"ngIf\"], [\"for\", \"Product_Price\"], [\"type\", \"text\", \"id\", \"Product_Price\", \"formControlName\", \"price\", 1, \"form-control\"], [\"for\", \"Product_ShortDesc\"], [\"type\", \"text\", \"id\", \"Product_ShortDesc\", \"formControlName\", \"shortDesc\", 1, \"form-control\"], [\"for\", \"Product_Description\"], [\"id\", \"Product_Description\", \"formControlName\", \"description\", 1, \"form-control\", \"summernote\"], [\"type\", \"file\", \"name\", \"files\", \"id\", \"uploadBox\", \"multiple\", \"\", 1, \"form-control\", 3, \"change\"], [\"for\", \"Product_CategoryId\"], [\"id\", \"Product_CategoryId\", \"formControlName\", \"categoryId\", 1, \"form-control\"], [\"disabled\", \"\", \"selected\", \"\"], [\"value\", \"7\"], [\"value\", \"8\"], [\"value\", \"9\"], [\"for\", \"Product_ApplicationTypeId\"], [\"id\", \"Product_ApplicationTypeId\", \"formControlName\", \"applicationTypeId\", 1, \"form-control\"], [\"value\", \"2\"], [\"value\", \"3\"], [\"value\", \"5\"], [1, \"col-8\", \"offset-4\", \"row\"], [1, \"col\"], [\"type\", \"submit\", \"value\", \"Create\", 1, \"btn\", \"btn-primary\", \"w-100\", 3, \"disabled\"], [1, \"btn\", \"btn-success\", \"w-100\", 3, \"routerLink\"], [1, \"fas\", \"fa-sign-out-alt\"], [1, \"text-danger\", \"field-validation-valid\"]],\n  template: function CreateProductComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function CreateProductComponent_Template_form_ngSubmit_1_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(2, \"div\", 2)(3, \"div\", 3)(4, \"h2\", 4);\n      i0.ɵɵtext(5, \"Create Product\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(6, \"div\", 5)(7, \"div\", 6)(8, \"div\", 3)(9, \"div\", 7);\n      i0.ɵɵelement(10, \"p\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(11, \"div\", 6);\n      i0.ɵɵelementStart(12, \"div\", 7)(13, \"label\", 9);\n      i0.ɵɵtext(14, \"Name\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(15, \"div\", 6);\n      i0.ɵɵelement(16, \"input\", 10);\n      i0.ɵɵtemplate(17, CreateProductComponent_span_17_Template, 2, 0, \"span\", 11);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(18, \"br\");\n      i0.ɵɵelementStart(19, \"div\", 3)(20, \"div\", 7)(21, \"label\", 12);\n      i0.ɵɵtext(22, \"Price\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(23, \"div\", 6);\n      i0.ɵɵelement(24, \"input\", 13);\n      i0.ɵɵtemplate(25, CreateProductComponent_span_25_Template, 2, 0, \"span\", 11);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(26, \"br\");\n      i0.ɵɵelementStart(27, \"div\", 3)(28, \"div\", 7)(29, \"label\", 14);\n      i0.ɵɵtext(30, \"ShortDesc\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(31, \"div\", 6);\n      i0.ɵɵelement(32, \"input\", 15);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(33, \"br\");\n      i0.ɵɵelementStart(34, \"div\", 3)(35, \"div\", 7)(36, \"label\", 16);\n      i0.ɵɵtext(37, \"Description\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(38, \"div\", 6);\n      i0.ɵɵelement(39, \"textarea\", 17);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(40, \"br\");\n      i0.ɵɵelementStart(41, \"div\", 3)(42, \"div\", 7);\n      i0.ɵɵtext(43, \"Image\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(44, \"div\", 6)(45, \"input\", 18);\n      i0.ɵɵlistener(\"change\", function CreateProductComponent_Template_input_change_45_listener($event) {\n        return ctx.onFileChange($event);\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(46, \"br\");\n      i0.ɵɵelementStart(47, \"div\", 3)(48, \"div\", 7)(49, \"label\", 19);\n      i0.ɵɵtext(50, \"Category Type\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(51, \"div\", 6)(52, \"select\", 20)(53, \"option\", 21);\n      i0.ɵɵtext(54, \"--Select Category--\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(55, \"option\", 22);\n      i0.ɵɵtext(56, \"Statuary\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(57, \"option\", 23);\n      i0.ɵɵtext(58, \"Emperador\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(59, \"option\", 24);\n      i0.ɵɵtext(60, \"Travertine\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(61, CreateProductComponent_span_61_Template, 2, 0, \"span\", 11);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(62, \"br\");\n      i0.ɵɵelementStart(63, \"div\", 3)(64, \"div\", 7)(65, \"label\", 25);\n      i0.ɵɵtext(66, \"Application Type\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(67, \"div\", 6)(68, \"select\", 26)(69, \"option\", 21);\n      i0.ɵɵtext(70, \"--Select Application Type--\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(71, \"option\", 27);\n      i0.ɵɵtext(72, \"Flooring\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(73, \"option\", 28);\n      i0.ɵɵtext(74, \"Walls\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(75, \"option\", 29);\n      i0.ɵɵtext(76, \"Stairs\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(77, CreateProductComponent_span_77_Template, 2, 0, \"span\", 11);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(78, \"br\");\n      i0.ɵɵelementStart(79, \"div\", 3)(80, \"div\", 30)(81, \"div\", 31);\n      i0.ɵɵelement(82, \"input\", 32);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(83, \"div\", 31)(84, \"a\", 33);\n      i0.ɵɵelement(85, \"i\", 34);\n      i0.ɵɵtext(86, \" Back\");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelement(87, \"div\", 7);\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      let tmp_1_0;\n      let tmp_2_0;\n      let tmp_3_0;\n      let tmp_4_0;\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formGroup\", ctx.productForm);\n      i0.ɵɵadvance(16);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_1_0 = ctx.productForm.get(\"name\")) == null ? null : tmp_1_0.invalid) && (((tmp_1_0 = ctx.productForm.get(\"name\")) == null ? null : tmp_1_0.dirty) || ((tmp_1_0 = ctx.productForm.get(\"name\")) == null ? null : tmp_1_0.touched)));\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx.productForm.get(\"price\")) == null ? null : tmp_2_0.invalid) && (((tmp_2_0 = ctx.productForm.get(\"price\")) == null ? null : tmp_2_0.dirty) || ((tmp_2_0 = ctx.productForm.get(\"price\")) == null ? null : tmp_2_0.touched)));\n      i0.ɵɵadvance(36);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_3_0 = ctx.productForm.get(\"categoryId\")) == null ? null : tmp_3_0.invalid) && (((tmp_3_0 = ctx.productForm.get(\"categoryId\")) == null ? null : tmp_3_0.dirty) || ((tmp_3_0 = ctx.productForm.get(\"categoryId\")) == null ? null : tmp_3_0.touched)));\n      i0.ɵɵadvance(16);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_4_0 = ctx.productForm.get(\"applicationTypeId\")) == null ? null : tmp_4_0.invalid) && (((tmp_4_0 = ctx.productForm.get(\"applicationTypeId\")) == null ? null : tmp_4_0.dirty) || ((tmp_4_0 = ctx.productForm.get(\"applicationTypeId\")) == null ? null : tmp_4_0.touched)));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"disabled\", ctx.productForm.invalid);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"routerLink\", \"/displayproductlist\");\n    }\n  },\n  dependencies: [i5.NgIf, i3.RouterLink, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["Validators","Product","i0","CreateProductComponent","constructor","formBuilder","ProductServiceService","router","route","UserserviceService","getuserloginstatus","isadmin","navigate","paramMap","subscribe","params","id","Number","get","product","getproductId","productname","Name","ngOnInit","productForm","group","name","required","price","Price","min","max","shortDesc","Shortdescription","description","Description","categoryId","CategoryId","applicationTypeId","getapplicatiobyId","onFileChange","event","target","files","length","i","file","reader","FileReader","onload","e","imageBase64","result","imagePath","saveImageToAssets","readAsDataURL","link","document","createElement","setAttribute","style","display","body","appendChild","click","removeChild","imagePathList","push","onSubmit","console","log","valid","controls","value","Addproduct","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\158590\\OneDrive - Arrow Electronics, Inc\\Desktop\\E-Marble_Inquiry\\src\\app\\admin\\create-product\\create-product.component.ts","C:\\Users\\158590\\OneDrive - Arrow Electronics, Inc\\Desktop\\E-Marble_Inquiry\\src\\app\\admin\\create-product\\create-product.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ProductServiceService } from 'src/app/Services/product-service.service';\nimport { Applicationtype } from 'src/app/data/applicationtype';\nimport { Product } from 'src/app/data/product';\nimport { UserserviceService } from '../../Services/userservices.service';\nimport { Category } from '../../data/category';\nimport { CartComponent } from '../../cart/cart.component';\n\n@Component({\n  selector: 'app-create-product',\n  templateUrl: './create-product.component.html',\n  styleUrls: ['./create-product.component.css']\n})\nexport class CreateProductComponent implements OnInit {\n  public productForm: any;\n  public id: number = 0;\n  imagePathList: string[] = [];\n  public product : Product | undefined \n  public productname?: string=\"\";\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private ProductServiceService: ProductServiceService,\n    public router: Router,\n    public route: ActivatedRoute,\n    public UserserviceService: UserserviceService\n  ) {\n    if (!UserserviceService.getuserloginstatus() && !UserserviceService.isadmin) {\n      router.navigate(['/Login']);\n    }\n    this.route.paramMap.subscribe((params) => {\n      this.id = Number(params.get('id'));\n    });\n    if(this.id!==0){\n      this.product = this.ProductServiceService.getproductId(this.id);\n      if(this.product!=null)\n      {\n        this.productname=this.product.Name;\n      }\n    }\n  }\n\n  ngOnInit() :void {\n    this.productForm = this.formBuilder.group({\n      name: [this.product?.Name, Validators.required],\n      price: [this.product?.Price, [Validators.required, Validators.min(1), Validators.max(2147483647)]],\n      shortDesc: [this.product?.Shortdescription],\n      description: [this.product?.Description],\n      categoryId: [this.product?.CategoryId, Validators.required],\n      applicationTypeId: [this.ProductServiceService.getapplicatiobyId.name, Validators.required]\n    });\n\n  }\n\n  onFileChange(event: any) {\n    if (event.target.files && event.target.files.length) {\n      const files: FileList = event.target.files;\n      for (let i = 0; i < files.length; i++) {\n        const file: File = files[i];\n        const reader: FileReader = new FileReader();\n        reader.onload = (e) => {\n          const imageBase64: string = reader.result as string;\n          // Save the image to the assets/uploads folder\n          const imagePath: string = `assets/uploads/${file.name}`;\n          this.saveImageToAssets(imageBase64, imagePath);\n        };\n        reader.readAsDataURL(file);\n      }\n    }\n  }\n\n  saveImageToAssets(imageBase64: string, imagePath: string) {\n    const link: HTMLAnchorElement = document.createElement('a');\n    link.setAttribute('href', imageBase64);\n    link.setAttribute('download', imagePath);\n    link.style.display = 'none';\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n\n    // Add the image path to the list\n    this.imagePathList.push(imagePath);\n  }\n\n  onSubmit() {\n    console.log(this.imagePathList)\n    if (this.productForm.valid) {\n      console.log(this.productForm.controls['name'].value);\n      if (this.id !== 0) {\n        this.ProductServiceService.Addproduct(\n          new Product(\n            this.id,\n            this.productForm.controls['name'].value,\n            this.productForm.controls['shortDesc'].value,\n            this.productForm.controls['price'].value,\n            '',\n            this.productForm.controls['categoryId'].value,\n            this.productForm.controls['applicationTypeId'].value,\n            this.productForm.controls['description'].value\n          )\n        );\n        this.router.navigate(['/displayapplication']);\n      } else {\n        this.ProductServiceService.Addproduct(\n          new Product(\n            0,\n            this.productForm.controls['name'].value,\n            this.productForm.controls['shortDesc'].value,\n            this.productForm.controls['price'].value,\n            '',\n            this.productForm.controls['categoryId'].value,\n            this.productForm.controls['applicationTypeId'].value,\n            this.productForm.controls['description'].value\n          )\n        );\n        this.router.navigate(['/displayapplication']);\n      }\n    }\n  }\n}\n","<div class=\"container m-4\">\n    <form [formGroup]=\"productForm\" (ngSubmit)=\"onSubmit()\">\n      <div class=\"border p-3\">\n        <div class=\"form-group row\">\n          <h2 class=\"text-center text-info pl-3\">Create Product</h2>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-8\">\n            <div class=\"form-group row\">\n              <div class=\"col-4\">\n                <p class=\"text-danger\"></p>\n              </div>\n              <div class=\"col-8\"></div>\n              <div class=\"col-4\">\n                <label for=\"Product_Name\">Name</label>\n              </div>\n              <div class=\"col-8\">\n                <input\n                  class=\"form-control\"\n                  type=\"text\"\n                  id=\"Product_Name\"\n                  formControlName=\"name\"\n                />\n                <span\n                  class=\"text-danger field-validation-valid\"\n                  *ngIf=\"productForm.get('name')?.invalid && (productForm.get('name')?.dirty || productForm.get('name')?.touched)\"\n                >\n                  The Name field is required.\n                </span>\n              </div>\n            </div>\n            <br>\n            <div class=\"form-group row\">\n              <div class=\"col-4\">\n                <label for=\"Product_Price\">Price</label>\n              </div>\n              <div class=\"col-8\">\n                <input\n                  class=\"form-control\"\n                  type=\"text\"\n                  id=\"Product_Price\"\n                  formControlName=\"price\"\n                />\n                <span\n                  class=\"text-danger field-validation-valid\"\n                  *ngIf=\"productForm.get('price')?.invalid && (productForm.get('price')?.dirty || productForm.get('price')?.touched)\"\n                >\n                  The field Price must be a number between 1 and 2147483647.\n                </span>\n              </div>\n            </div>\n            <br>\n            <div class=\"form-group row\">\n              <div class=\"col-4\">\n                <label for=\"Product_ShortDesc\">ShortDesc</label>\n              </div>\n              <div class=\"col-8\">\n                <input\n                  class=\"form-control\"\n                  type=\"text\"\n                  id=\"Product_ShortDesc\"\n                  formControlName=\"shortDesc\"\n                />\n              </div>\n            </div>\n            <br>\n\n            <div class=\"form-group row\">\n              <div class=\"col-4\">\n                <label for=\"Product_Description\">Description</label>\n              </div>\n              <div class=\"col-8\">\n                <textarea\n                  class=\"form-control summernote\"\n                  id=\"Product_Description\"\n                  formControlName=\"description\"\n                ></textarea>\n              </div>\n            </div>\n            <br>\n            <div class=\"form-group row\">\n              <div class=\"col-4\">Image</div>\n              <div class=\"col-8\">\n                <input\n                  type=\"file\"\n                  (change)=\"onFileChange($event)\"\n                  name=\"files\"\n                  id=\"uploadBox\"\n                  multiple\n                  class=\"form-control\"\n                />\n              </div>\n            </div>\n            <br>\n            <div class=\"form-group row\">\n              <div class=\"col-4\">\n                <label for=\"Product_CategoryId\">Category Type</label>\n              </div>\n              <div class=\"col-8\">\n                <select\n                  class=\"form-control\"\n                  id=\"Product_CategoryId\"\n                  formControlName=\"categoryId\"\n                >\n                  <option disabled selected>--Select Category--</option>\n                  <option value=\"7\">Statuary</option>\n                  <option value=\"8\">Emperador</option>\n                  <option value=\"9\">Travertine</option>\n                </select>\n                <span\n                  class=\"text-danger field-validation-valid\"\n                  *ngIf=\"productForm.get('categoryId')?.invalid && (productForm.get('categoryId')?.dirty || productForm.get('categoryId')?.touched)\"\n                >\n                  The Category Type field is required.\n                </span>\n              </div>\n            </div>\n            <br>\n            <div class=\"form-group row\">\n              <div class=\"col-4\">\n                <label for=\"Product_ApplicationTypeId\">Application Type</label>\n              </div>\n              <div class=\"col-8\">\n                <select\n                  class=\"form-control\"\n                  id=\"Product_ApplicationTypeId\"\n                  formControlName=\"applicationTypeId\"\n                >\n                  <option disabled selected>--Select Application Type--</option>\n                  <option value=\"2\">Flooring</option>\n                  <option value=\"3\">Walls</option>\n                  <option value=\"5\">Stairs</option>\n                </select>\n                <span\n                  class=\"text-danger field-validation-valid\"\n                  *ngIf=\"productForm.get('applicationTypeId')?.invalid && (productForm.get('applicationTypeId')?.dirty || productForm.get('applicationTypeId')?.touched)\"\n                >\n                  The Application Type field is required.\n                </span>\n              </div>\n            </div>\n            <br>\n            <div class=\"form-group row\">\n              <div class=\"col-8 offset-4 row\">\n                <div class=\"col\">\n                  <input\n                    type=\"submit\"\n                    [disabled]=\"productForm.invalid\"\n                    class=\"btn btn-primary w-100\"\n                    value=\"Create\"\n                  />\n                </div>\n                <div class=\"col\">\n                  <a class=\"btn btn-success w-100\" [routerLink]=\"'/displayproductlist'\"\n                    ><i class=\"fas fa-sign-out-alt\"></i> Back</a\n                  >\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-4\"></div>\n        </div>\n      </div>\n    </form>\n  </div>\n  "]},"metadata":{},"sourceType":"module","externalDependencies":[]}