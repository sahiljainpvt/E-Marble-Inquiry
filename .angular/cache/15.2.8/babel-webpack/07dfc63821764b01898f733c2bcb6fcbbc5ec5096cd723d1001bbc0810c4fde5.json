{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { Applicationtype } from 'src/app/data/applicationtype';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Services/product-service.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"../../Services/userservices.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"../admin/alert/alert.component\";\nfunction CreateapplicationComponent_app_alert_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-alert\", 17);\n    i0.ɵɵlistener(\"onClose\", function CreateapplicationComponent_app_alert_3_Template_app_alert_onClose_0_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onAlertClose());\n    });\n    i0.ɵɵelementStart(1, \"strong\");\n    i0.ɵɵtext(2, \"Duplicate value not allowed\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"type\", \"alert-warning\");\n  }\n}\nconst _c0 = function () {\n  return [\"/displayapplication\"];\n};\nexport class CreateapplicationComponent {\n  constructor(ProductServiceService, router, route, formBuilder, UserserviceService) {\n    this.ProductServiceService = ProductServiceService;\n    this.router = router;\n    this.route = route;\n    this.formBuilder = formBuilder;\n    this.UserserviceService = UserserviceService;\n    this.applicationname = \"\";\n    this.id = 0;\n    this.applicationlist = [];\n    this.isAlert = false;\n    if (!UserserviceService.getuserloginstatus() && !UserserviceService.isadmin) {\n      router.navigate(['/Login']);\n    }\n    this.applicationlist = ProductServiceService.getapplication();\n    this.route.paramMap.subscribe(params => {\n      this.id = Number(params.get('id'));\n    });\n    if (this.id !== 0) {\n      this.application = this.ProductServiceService.getapplicatiobyId(this.id);\n      if (this.application !== undefined) {\n        this.applicationname = this.application.ApplicationName;\n      }\n    }\n  }\n  ngOnInit() {\n    this.applicationForm = this.formBuilder.group({\n      name: [this.applicationname, Validators.required]\n    });\n  }\n  onSubmit() {\n    if (this.applicationForm.valid) {\n      console.log(this.applicationForm.controls['name'].value);\n      if (this.id !== 0) {\n        const temp = this.applicationlist.find(c => c.ApplicationName?.toLowerCase() === this.applicationForm.controls['name'].value.toLowerCase());\n        if (temp != undefined) {\n          this.onAlertOpen();\n          setTimeout(() => {\n            this.onAlertClose();\n          }, 3000);\n        } else {\n          this.ProductServiceService.addapplications(new Applicationtype(this.id, this.applicationForm.controls['name'].value));\n          this.router.navigate(['/displayapplication']);\n        }\n      } else {\n        const temp = this.applicationlist.find(c => c.ApplicationName?.toLowerCase() === this.applicationForm.controls['name'].value.toLowerCase());\n        if (temp != undefined) {\n          this.onAlertOpen();\n          setTimeout(() => {\n            this.onAlertClose();\n          }, 5000);\n        } else {\n          this.ProductServiceService.addapplications(new Applicationtype(0, this.applicationForm.controls['name'].value));\n          this.router.navigate(['/displayapplication']);\n        }\n      }\n    }\n  }\n  onAlertClose() {\n    this.isAlert = false;\n  }\n  onAlertOpen() {\n    this.isAlert = true;\n  }\n}\nCreateapplicationComponent.ɵfac = function CreateapplicationComponent_Factory(t) {\n  return new (t || CreateapplicationComponent)(i0.ɵɵdirectiveInject(i1.ProductServiceService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.FormBuilder), i0.ɵɵdirectiveInject(i4.UserserviceService));\n};\nCreateapplicationComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CreateapplicationComponent,\n  selectors: [[\"app-createapplication\"]],\n  decls: 29,\n  vars: 5,\n  consts: [[1, \"container\", \"border-5\", \"bg-gradient\"], [1, \"container\", \"p-5\", \"m-3\", \"border-dark\"], [3, \"formGroup\", \"ngSubmit\"], [3, \"type\", \"onClose\", 4, \"ngIf\"], [1, \"border\", \"p-3\"], [1, \"form-group\", \"row\"], [1, \"text-info\", \"pl-3\"], [1, \"row\"], [1, \"col-8\"], [1, \"col-4\"], [\"for\", \"Name\"], [\"type\", \"text\", \"formControlName\", \"name\", 1, \"form-control\"], [1, \"col-8\", \"offset-4\", \"row\"], [1, \"col\"], [\"type\", \"submit\", \"value\", \"Create\", 1, \"btn\", \"btn-info\", \"w-100\", 3, \"disabled\"], [1, \"btn\", \"btn-success\", \"w-100\", 3, \"routerLink\"], [1, \"fas\", \"fa-sign-out-alt\"], [3, \"type\", \"onClose\"]],\n  template: function CreateapplicationComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"form\", 2);\n      i0.ɵɵlistener(\"ngSubmit\", function CreateapplicationComponent_Template_form_ngSubmit_2_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵtemplate(3, CreateapplicationComponent_app_alert_3_Template, 3, 1, \"app-alert\", 3);\n      i0.ɵɵelementStart(4, \"div\", 4)(5, \"div\", 5)(6, \"h2\", 6);\n      i0.ɵɵtext(7, \"Create Category\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(8, \"br\");\n      i0.ɵɵelementStart(9, \"div\", 7)(10, \"div\", 8)(11, \"div\", 5)(12, \"div\", 9)(13, \"label\", 10);\n      i0.ɵɵtext(14, \"Name\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(15, \"div\", 8);\n      i0.ɵɵelement(16, \"input\", 11)(17, \"br\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(18, \"br\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(19, \"div\", 5);\n      i0.ɵɵelementStart(20, \"div\", 5)(21, \"div\", 12)(22, \"div\", 13);\n      i0.ɵɵelement(23, \"input\", 14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"div\", 13)(25, \"a\", 15);\n      i0.ɵɵelement(26, \"i\", 16);\n      i0.ɵɵtext(27, \" Back \");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelement(28, \"div\", 9);\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"formGroup\", ctx.applicationForm);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.isAlert);\n      i0.ɵɵadvance(20);\n      i0.ɵɵproperty(\"disabled\", ctx.applicationForm.invalid);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(4, _c0));\n    }\n  },\n  dependencies: [i5.NgIf, i2.RouterLink, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.FormControlName, i6.AlertComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["Validators","Applicationtype","i0","CreateapplicationComponent","constructor","ProductServiceService","router","route","formBuilder","UserserviceService","getuserloginstatus","isadmin","navigate","applicationlist","getapplication","paramMap","subscribe","params","id","Number","get","application","getapplicatiobyId","undefined","applicationname","ApplicationName","ngOnInit","applicationForm","group","name","required","onSubmit","valid","console","log","controls","value","temp","find","c","toLowerCase","onAlertOpen","setTimeout","onAlertClose","addapplications","isAlert","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\158590\\OneDrive - Arrow Electronics, Inc\\Desktop\\E-Marble_Inquiry\\src\\app\\admin\\createapplication\\createapplication.component.ts","C:\\Users\\158590\\OneDrive - Arrow Electronics, Inc\\Desktop\\E-Marble_Inquiry\\src\\app\\admin\\createapplication\\createapplication.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Applicationtype } from 'src/app/data/applicationtype';\nimport { ProductServiceService } from 'src/app/Services/product-service.service';\nimport { User } from 'src/app/data/user';\nimport { UserserviceService } from '../../Services/userservices.service';\n@Component({\n  selector: 'app-createapplication',\n  templateUrl: './createapplication.component.html',\n  styleUrls: ['./createapplication.component.css']\n})\nexport class CreateapplicationComponent {\n  public applicationForm:any;\n  public applicationname?: string=\"\";\n  public application?:Applicationtype | undefined;\n  public id:number=0;\n  public applicationlist:Applicationtype[]=[];\n  isAlert:boolean = false;\n  constructor(private ProductServiceService:ProductServiceService,public router:Router,public route:ActivatedRoute,private formBuilder: FormBuilder,public UserserviceService:UserserviceService){\n    if(!UserserviceService.getuserloginstatus() && !UserserviceService.isadmin){\n      router.navigate(['/Login']);\n    }  \n    this.applicationlist=ProductServiceService.getapplication();\n    this.route.paramMap.subscribe(params =>{\n      this.id=Number( params.get('id'));\n    })\n      if(this.id!==0){\n      this.application=this.ProductServiceService.getapplicatiobyId(this.id);\n      if(this.application!==undefined){\n        this.applicationname=this.application.ApplicationName;\n      }\n    }\n  }\n  ngOnInit(): void {\n    \n    this.applicationForm = this.formBuilder.group({\n      name: [this.applicationname, Validators.required]\n    });\n  }\n  onSubmit() {\n \n    if (this.applicationForm.valid) {\n      console.log(this.applicationForm.controls['name'].value);\n      if(this.id!==0){\n        const temp=this.applicationlist.find(c=>c.ApplicationName?.toLowerCase()===(this.applicationForm.controls['name'].value).toLowerCase())\n        if(temp!=undefined){\n          this.onAlertOpen();\n        setTimeout(()=>{\n          this.onAlertClose();\n        },3000)\n        }\n        else{\n      this.ProductServiceService.addapplications(new Applicationtype(this.id,this.applicationForm.controls['name'].value))\n        this.router.navigate(['/displayapplication'])\n        }\n      }\n    else{\n      const temp=this.applicationlist.find(c=>c.ApplicationName?.toLowerCase()===(this.applicationForm.controls['name'].value).toLowerCase())\n      if(temp!=undefined){\n        this.onAlertOpen();\n        setTimeout(()=>{\n          this.onAlertClose();\n        },5000)\n      }\n      else{\n      this.ProductServiceService.addapplications(new Applicationtype(0,this.applicationForm.controls['name'].value))\n      this.router.navigate(['/displayapplication'])\n      }\n    }\n  }\n\n\n}\nonAlertClose(){\n  this.isAlert=false;\n}\nonAlertOpen(){\n  this.isAlert=true;\n}\n\n}\n","<div class=\"container border-5 bg-gradient\">\n    <div class=\"container p-5 m-3 border-dark\">\n      <form [formGroup]=\"applicationForm\" (ngSubmit)=\"onSubmit()\">\n        <app-alert *ngIf=\"isAlert\"[type]=\"'alert-warning'\" (onClose)=\"onAlertClose()\">\n          <strong>Duplicate value not allowed</strong>\n        </app-alert>\n        <div class=\"border p-3\">\n          <div class=\"form-group row\">\n            <h2 class=\"text-info pl-3\">Create Category</h2>\n          </div>\n          <br>\n          <div class=\"row\">\n            <div class=\"col-8\">\n              <div class=\"form-group row\">\n                <div class=\"col-4\">\n                  <label for=\"Name\">Name</label>\n                </div>\n                <div class=\"col-8\">\n                  <input class=\"form-control\" type=\"text\" formControlName=\"name\" />\n                  <br>\n                </div>\n                <br />\n              </div>\n              <div class=\"form-group row\">\n              </div>\n              <div class=\"form-group row\">\n                <div class=\"col-8 offset-4 row\">\n                  <div class=\"col\">\n                    <input type=\"submit\" class=\"btn btn-info w-100\" value=\"Create\" [disabled]=\"applicationForm.invalid\" />\n                  </div>\n                  <div class=\"col\">\n                    <a class=\"btn btn-success w-100\" [routerLink]=\"['/displayapplication']\">\n                      <i class=\"fas fa-sign-out-alt\"></i> Back\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-4\"></div>\n          </div>\n        </div>\n      </form>\n    </div>\n  </div>\n  "]},"metadata":{},"sourceType":"module","externalDependencies":[]}